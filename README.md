# å•†æˆ·æ™ºè¿Agent v2.4-stable
# Merchant SmartOps AI Agent v2.4-stable

> AIé©±åŠ¨çš„å•†ä¸šåœ°äº§å•†æˆ·è¿è¥ç®¡ç†ç³»ç»Ÿ | ä½•é›¨è½©ä½œå“é›†é¡¹ç›®

[![Version](https://img.shields.io/badge/version-2.4--stable-blue.svg)](VERSION.md)
[![Status](https://img.shields.io/badge/status-production-green.svg)](VERSION.md)
[![Framework](https://img.shields.io/badge/framework-Next.js%2016.1.4-black.svg)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue.svg)](https://www.typescriptlang.org/)

**ğŸŒ åœ¨çº¿ä½“éªŒ**: [https://merchant-smartops.vercel.app](https://merchant-smartops.vercel.app)
**ğŸ”‘ è®¿é—®è¯´æ˜**: å¦‚éœ€è®¿é—®ï¼Œè¯·è”ç³»ä½•é›¨è½© **182 1020 9768**

---

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [æŠ€èƒ½æ¨¡å—](#æŠ€èƒ½æ¨¡å—)
- [ç‰ˆæœ¬å†å²](#ç‰ˆæœ¬å†å²)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)

---

## ğŸ¯ é¡¹ç›®ç®€ä»‹

**å•†æˆ·æ™ºè¿Agent** æ˜¯ä¸€ä¸ªAIé©±åŠ¨çš„å•†ä¸šåœ°äº§å•†æˆ·è¿è¥ç®¡ç†ç³»ç»Ÿï¼Œä¸“æ³¨äºå•†æˆ·å¥åº·åº¦ç›‘æ§ã€æ™ºèƒ½è¯Šæ–­å’Œç²¾å‡†å¸®æ‰¶ã€‚æœ¬é¡¹ç›®ä¸º**ä½•é›¨è½©ä½œå“é›†**ï¼Œå±•ç¤ºAIäº§å“è®¾è®¡ä¸å…¨æ ˆå¼€å‘èƒ½åŠ›ã€‚

### é¡¹ç›®å®šä½
- ğŸ“± **åœ¨çº¿Demo**: ç”¨äºæ±‚èŒé¢è¯•å±•ç¤º
- ğŸ“ **ä½œå“é›†é¡¹ç›®**: å±•ç¤ºæŠ€æœ¯èƒ½åŠ›å’Œäº§å“æ€ç»´
- ğŸš€ **ç”Ÿäº§å°±ç»ª**: ä»£ç è´¨é‡è¾¾åˆ°ç”Ÿäº§çº§åˆ«æ ‡å‡†

### æ ¸å¿ƒä»·å€¼

- ğŸ¤– **AIæ™ºèƒ½è¯Šæ–­**: è‡ªåŠ¨åˆ†æå•†æˆ·é—®é¢˜ï¼Œæ¨èå¸®æ‰¶ç­–ç•¥
- ğŸ“Š **è¶‹åŠ¿é¢„æµ‹**: åŸºäºçº¿æ€§å›å½’çš„å¥åº·åº¦è¶‹åŠ¿é¢„æµ‹
- ğŸ“š **AIå¸®æ‰¶çŸ¥è¯†åº“**: æˆåŠŸæ¡ˆä¾‹è‡ªåŠ¨æ²‰æ·€ï¼Œç»éªŒå¯å¤ç”¨
- ğŸ”„ **æ ‡å‡†åŒ–æµç¨‹**: å·¥ä½œæµæ¨¡æ¿å¿«é€Ÿåº”ç”¨
- ğŸ” **æ™ºèƒ½æœç´¢**: å¤šå­—æ®µåŠ æƒæœç´¢ï¼Œç²¾å‡†åŒ¹é…

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1. å•†æˆ·å¥åº·åº¦ç›‘æ§
- äº”ç»´åº¦å¥åº·åº¦è¯„ä¼°ï¼ˆç§Ÿé‡‘ç¼´çº³ã€ç»è¥è¡¨ç°ã€ç°åœºå“è´¨ã€é¡¾å®¢æ»¡æ„åº¦ã€æŠ—é£é™©èƒ½åŠ›ï¼‰
- å®æ—¶å¥åº·åº¦è¶‹åŠ¿å›¾è¡¨
- çº¿æ€§å›å½’é¢„æµ‹æœªæ¥3ä¸ªæœˆè¶‹åŠ¿
- é£é™©é¢„è­¦ä¸å»ºè®®æªæ–½

### 2. å¸®æ‰¶ä»»åŠ¡ç®¡ç†
- ä»»åŠ¡å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆæªæ–½åˆ¶å®š â†’ æ‰§è¡Œ â†’ è¯„ä¼° â†’ ç»“æ¡ˆï¼‰
- å·¥ä½œæµæ¨¡æ¿å¿«é€Ÿåº”ç”¨
- AIæ™ºèƒ½æ¨èå¸®æ‰¶æªæ–½
- æ‰§è¡Œè®°å½•ä¸æ—¥å¿—è¿½è¸ª

### 3. AIå¸®æ‰¶çŸ¥è¯†åº“
- æˆåŠŸæ¡ˆä¾‹è‡ªåŠ¨æ²‰æ·€
- æ™ºèƒ½æœç´¢ä¸æ¡ˆä¾‹åŒ¹é…
- æŒ‰ä¸šæ€åˆ†ç±»ç®¡ç†
- æ¡ˆä¾‹å¯¼å…¥å¯¼å‡º

### 4. AIè¯Šæ–­ä¸æ¨è
- å•†æˆ·é—®é¢˜æ™ºèƒ½è¯Šæ–­
- çŸ¥è¯†åº“æ¡ˆä¾‹æ™ºèƒ½åŒ¹é…ï¼ˆä¸šæ€40% + æ ‡ç­¾60% + ç—‡çŠ¶åŠ åˆ†ï¼‰
- å¸®æ‰¶ç­–ç•¥è‡ªåŠ¨æ¨è
- é£é™©ç­‰çº§è¯„ä¼°

---

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶
- **Next.js 16.1.4** - Reactæ¡†æ¶ï¼ˆApp Router + Turbopackï¼‰
- **React 19** - UIç»„ä»¶åº“
- **TypeScript 5.x** - ç±»å‹å®‰å…¨

### UIç»„ä»¶
- **Tailwind CSS** - åŸå­åŒ–CSSæ¡†æ¶
- **Font Awesome** - å›¾æ ‡åº“
- **Recharts** - æ•°æ®å¯è§†åŒ–

### çŠ¶æ€ç®¡ç†
- **React Hooks** - useState, useEffect, useMemo, useCallback
- **LocalStorage** - å®¢æˆ·ç«¯æ•°æ®æŒä¹…åŒ–

### å¼€å‘å·¥å…·
- **Turbopack** - é«˜æ€§èƒ½æ‰“åŒ…å·¥å…·
- **ESLint** - ä»£ç è§„èŒƒæ£€æŸ¥

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åœ¨çº¿ä½“éªŒï¼ˆæ¨èï¼‰
è®¿é—®åœ¨çº¿Demoï¼Œæ— éœ€æœ¬åœ°å®‰è£…ï¼š
- **Demoåœ°å€**: [https://merchant-smartops.vercel.app](https://merchant-smartops.vercel.app)
- **è®¿é—®æ–¹å¼**: éœ€è¦è®¿é—®ç ï¼Œè¯·è”ç³»ä½•é›¨è½© **182 1020 9768**
- **è¯´æ˜**: Demoç‰ˆæœ¬ï¼Œæ•°æ®æ¯24å°æ—¶é‡ç½®

### æœ¬åœ°å¼€å‘

#### ç¯å¢ƒè¦æ±‚
- Node.js 18.x æˆ–æ›´é«˜ç‰ˆæœ¬
- npm æˆ– yarn æˆ– pnpm

### å®‰è£…ä¾èµ–
```bash
npm install
# æˆ–
yarn install
# æˆ–
pnpm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
# æˆ–
yarn dev
# æˆ–
pnpm dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
npm run start
```

### éƒ¨ç½²åˆ°Vercel

æœ¬é¡¹ç›®å·²é…ç½®å¥½Vercelè‡ªåŠ¨éƒ¨ç½²å’Œè®¿é—®ç ä¿æŠ¤ã€‚

**ç¯å¢ƒå˜é‡é…ç½®**ï¼ˆåœ¨ Vercel Dashboard ä¸­è®¾ç½®ï¼‰ï¼š

| Key | Value | è¯´æ˜ |
|-----|-------|------|
| `ACCESS_CODE` | ä½ çš„è®¿é—®ç  | å¿…é¡»è®¾ç½®ï¼Œç”¨äºä¿æŠ¤ç½‘ç«™è®¿é—® |

**éƒ¨ç½²æ­¥éª¤**ï¼š
```bash
# 1. æ¨é€ä»£ç åˆ°GitHub
git push origin main

# 2. åœ¨Vercelä¸­å¯¼å…¥é¡¹ç›®
# 3. è®¾ç½®ç¯å¢ƒå˜é‡ ACCESS_CODE
# 4. è‡ªåŠ¨éƒ¨ç½²å®Œæˆ
```

**è®¿é—®ä¿æŠ¤è¯´æ˜**ï¼š
- è®¿é—®è€…é¦–æ¬¡è®¿é—®ä¼šçœ‹åˆ°è”ç³»ä¿¡æ¯é¡µé¢
- è¾“å…¥æ­£ç¡®è®¿é—®ç åå¯è¿›å…¥ç³»ç»Ÿ
- Cookie æœ‰æ•ˆæœŸ 30 å¤©

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
mall-operation-system/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx                  # é¦–é¡µï¼ˆæ•°æ®æ¦‚è§ˆï¼‰
â”‚   â”œâ”€â”€ health/                   # å¥åº·ç›‘æ§æ¨¡å—
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ tasks/                    # ä»»åŠ¡ç®¡ç†æ¨¡å—
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ knowledge/                # çŸ¥è¯†åº“æ¨¡å—
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ layout.tsx                # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ globals.css               # å…¨å±€æ ·å¼
â”‚
â”œâ”€â”€ components/                   # Reactç»„ä»¶
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx           # ä¾§è¾¹æ å¯¼èˆª
â”‚   â”‚   â””â”€â”€ Header.tsx            # é¡¶éƒ¨å¯¼èˆª
â”‚   â”œâ”€â”€ HealthTrendChart.tsx      # å¥åº·åº¦è¶‹åŠ¿å›¾
â”‚   â”œâ”€â”€ WorkflowTemplate.tsx      # å·¥ä½œæµæ¨¡æ¿é€‰æ‹©å™¨
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ utils/                        # å·¥å…·å‡½æ•°åº“ï¼ˆæŠ€èƒ½æ¨¡å—ï¼‰
â”‚   â”œâ”€â”€ smartSearch.ts            # æ™ºèƒ½æœç´¢å¼•æ“
â”‚   â”œâ”€â”€ aiDiagnosis.ts            # AIè¯Šæ–­å¼•æ“
â”‚   â”œâ”€â”€ healthTrendPrediction.ts  # å¥åº·åº¦é¢„æµ‹
â”‚   â”œâ”€â”€ taskStateMachine.ts       # ä»»åŠ¡çŠ¶æ€æœº
â”‚   â””â”€â”€ knowledgeBaseSedimentation.ts  # çŸ¥è¯†åº“æ²‰æ·€
â”‚
â”œâ”€â”€ docs/                         # æ–‡æ¡£
â”‚   â”œâ”€â”€ skills-extraction-summary.md   # æŠ€èƒ½æå–æ€»ç»“
â”‚   â””â”€â”€ react-state-best-practices.md  # Reactæœ€ä½³å®è·µ
â”‚
â”œâ”€â”€ public/                       # é™æ€èµ„æº
â”œâ”€â”€ VERSION.md                    # ç‰ˆæœ¬å†å²
â”œâ”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ package.json                  # é¡¹ç›®é…ç½®
â””â”€â”€ tsconfig.json                 # TypeScripté…ç½®
```

---

## ğŸ“ æŠ€èƒ½æ¨¡å—

æœ¬é¡¹ç›®æå–äº†7ä¸ªå¯å¤ç”¨çš„æŠ€èƒ½æ¨¡å—ï¼Œè¯¦è§ [æŠ€èƒ½æå–æ€»ç»“](docs/skills-extraction-summary.md)ã€‚

### P0 - æ ¸å¿ƒæŠ€èƒ½
1. **AI Diagnosis & Recommendation Engine** - AIè¯Šæ–­ä¸æ¨èå¼•æ“
2. **React State Update Best Practices** - ReactçŠ¶æ€æ›´æ–°æœ€ä½³å®è·µ

### P1 - é‡è¦æŠ€èƒ½
3. **Smart Search Engine** - æ™ºèƒ½æœç´¢å¼•æ“
4. **Health Trend Prediction** - å¥åº·åº¦è¶‹åŠ¿é¢„æµ‹
5. **Task State Machine** - ä»»åŠ¡çŠ¶æ€æœº

### P2 - è¾…åŠ©æŠ€èƒ½
6. **Knowledge Base Sedimentation** - çŸ¥è¯†åº“æ²‰æ·€

---

## ğŸ“ ç‰ˆæœ¬å†å²

### v2.4-stable (2026-02-03) - Current ğŸš€
- âœ… ç”Ÿäº§ç¯å¢ƒé…ç½®ä¼˜åŒ–
- âœ… Demoç»„ä»¶é›†æˆï¼ˆæ¬¢è¿æ¨ªå¹…ã€é¡µè„šã€æ°´å°ï¼‰
- âœ… Verceléƒ¨ç½²é…ç½®å®Œæˆ
- âœ… ä»£ç ä¿æŠ¤æªæ–½ï¼ˆç¦ç”¨Source Mapsã€ç§»é™¤console.logï¼‰
- âœ… ä¸“æœ‰è®¸å¯åè®®æ·»åŠ 

### V1.1 (2026-01-24)
- âœ… UI/UXä¼˜åŒ–ï¼ˆçŸ¥è¯†åº“ã€AIè¯Šæ–­ã€è¶‹åŠ¿é¢„æµ‹ï¼‰
- âœ… å…³é”®bugä¿®å¤ï¼ˆå·¥ä½œæµæ¨¡æ¿åº”ç”¨å¤±è´¥ï¼‰
- âœ… æŠ€èƒ½æ¨¡å—æå–ï¼ˆ7ä¸ªå¯å¤ç”¨æ¨¡å—ï¼‰
- âœ… æ–‡æ¡£å®Œå–„

### V1.0 (Previous)
- âœ… åŸºç¡€åŠŸèƒ½å®ç°
- âœ… Sprint 1-3 å®Œæˆï¼ˆ15/15 featuresï¼‰

è¯¦è§ [VERSION.md](VERSION.md)

---

## ğŸ‘¨â€ğŸ’» å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
- ä½¿ç”¨TypeScriptä¸¥æ ¼æ¨¡å¼
- éµå¾ªESLintè§„åˆ™
- ç»„ä»¶ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶ + Hooks
- çŠ¶æ€æ›´æ–°éµå¾ªåŸå­æ€§åŸåˆ™ï¼ˆè§ [Reactæœ€ä½³å®è·µ](docs/react-state-best-practices.md)ï¼‰

### çŠ¶æ€ç®¡ç†æœ€ä½³å®è·µ
```typescript
// âœ… æ­£ç¡®ï¼šå•æ¬¡åŸå­æ€§æ›´æ–°
updateTask({
  measures: allMeasures,
  logs: updatedLogs
});

// âŒ é”™è¯¯ï¼šè¿ç»­å¤šæ¬¡æ›´æ–°
updateTask({ measures: allMeasures });
updateTask({ logs: updatedLogs });
```

### ä½¿ç”¨æŠ€èƒ½æ¨¡å—
```typescript
// æ™ºèƒ½æœç´¢
import { createSmartSearchEngine, knowledgeBaseSearchConfig } from '@/utils/smartSearch';
const searchEngine = createSmartSearchEngine(knowledgeBaseSearchConfig);
const results = searchEngine.search('è¥æ”¶ä¸‹æ»‘', knowledgeBase);

// AIè¯Šæ–­
import { generateDiagnosisReport } from '@/utils/aiDiagnosis';
const diagnosis = generateDiagnosisReport(merchant, knowledgeBase);

// å¥åº·åº¦é¢„æµ‹
import { predictHealthTrend } from '@/utils/healthTrendPrediction';
const predictions = predictHealthTrend(historicalData);
```

---

## ğŸ“Š æ•°æ®æ¨¡å‹

### å•†æˆ·æ•°æ® (Merchant)
```typescript
{
  id: string;              // å•†æˆ·ID
  name: string;            // å•†æˆ·åç§°
  category: string;        // ä¸šæ€åˆ†ç±»
  floor: string;           // æ¥¼å±‚
  shopNumber: string;      // é“ºä½å·
  area: number;            // é¢ç§¯(ã¡)
  rent: number;            // æœˆç§Ÿé‡‘
  lastMonthRevenue: number; // ä¸Šæœˆè¥æ”¶
  rentToSalesRatio: number; // ç§Ÿå”®æ¯”
  riskLevel: 'low' | 'medium' | 'high' | 'critical'; // é£é™©ç­‰çº§
  totalScore: number;      // å¥åº·åº¦è¯„åˆ†(0-100)
  metrics: {
    collection: number;     // ç§Ÿé‡‘ç¼´çº³(0-100)
    operational: number;    // ç»è¥è¡¨ç°(0-100)
    siteQuality: number;    // ç°åœºå“è´¨(0-100)
    customerReview: number; // é¡¾å®¢æ»¡æ„åº¦(0-100)
    riskResistance: number; // æŠ—é£é™©èƒ½åŠ›(0-100)
  }
}
```

### å¸®æ‰¶æ¡ˆä¾‹ (Case)
```typescript
{
  id: string;              // æ¡ˆä¾‹ID
  merchantName?: string;   // å•†æˆ·åç§°
  industry: string;        // ä¸šæ€
  tags: string[];          // æ ‡ç­¾
  symptoms: string;        // ç—‡çŠ¶
  diagnosis: string;       // è¯Šæ–­
  strategy: string;        // ç­–ç•¥
  action: string;          // å…·ä½“æªæ–½
  result?: string;         // æ•ˆæœ
  createdAt: string;       // åˆ›å»ºæ—¶é—´
  source?: 'system' | 'user';  // æ¥æº
}
```

---

## ğŸ› å·²çŸ¥é—®é¢˜

æ— 

---

## ğŸ—º è·¯çº¿å›¾

### V1.2 (è®¡åˆ’ä¸­)
- [ ] æ¥å…¥çœŸå®LLM APIï¼ˆClaude APIï¼‰
- [ ] è¯­ä¹‰æœç´¢åŠŸèƒ½
- [ ] å¤šæ¨¡å‹é¢„æµ‹å¯¹æ¯”
- [ ] æ¡ˆä¾‹è´¨é‡è¯„åˆ†

### V2.0 (æœªæ¥)
- [ ] å¤šç§Ÿæˆ·æ”¯æŒ
- [ ] æƒé™ç®¡ç†ç³»ç»Ÿ
- [ ] ç§»åŠ¨ç«¯é€‚é…
- [ ] æ•°æ®å¯¼å‡ºåŠŸèƒ½

---

## ğŸ“„ è®¸å¯è¯

æœ¬è½¯ä»¶ä¸ºä¸“æœ‰è½¯ä»¶ï¼Œå—ç‰ˆæƒä¿æŠ¤ã€‚è¯¦è§ [LICENSE.md](LICENSE.md)ã€‚

**Demoç‰ˆæœ¬è¯´æ˜**:
- âœ… å…è®¸åœ¨çº¿ä½“éªŒå’Œè¯„ä¼°
- âœ… å…è®¸ç”¨äºæŠ€æœ¯é¢è¯•å±•ç¤º
- âŒ ç¦æ­¢å•†ä¸šä½¿ç”¨
- âŒ ç¦æ­¢å¤åˆ¶ã€ä¿®æ”¹ã€åˆ†å‘

---

## ğŸ¤ è´¡çŒ®è€…

- **Heyuxuan** - Product Designer & Developer
- **Claude Sonnet 4.5** - AI Assistant & Code Reviewer

---

## ğŸ“ è”ç³»æ–¹å¼

**ä½•é›¨è½©é¡¹ç›®é›† | ä¸ªäººä½œå“å±•ç¤ºç”¨**

å¦‚æœæ‚¨æ„Ÿå…´è¶£ï¼Œæ¬¢è¿ï¼š
- ğŸŒ ä½“éªŒåœ¨çº¿Demo
- ğŸ’¬ è¯¢é—®æŠ€æœ¯ç»†èŠ‚
- ğŸ“§ è”ç³»è®¨è®ºé¡¹ç›®

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼š
- æŸ¥çœ‹ [éƒ¨ç½²æŒ‡å—](VERCEL-DEPLOYMENT-GUIDE.md)
- æŸ¥çœ‹ [è®¸å¯åè®®](LICENSE.md)

---

**Last Updated**: 2026-02-03
**Version**: v2.4-stable
**Status**: Production Ready ğŸš€

---

Made with â¤ï¸ for career portfolio
Powered by Next.js + AI
