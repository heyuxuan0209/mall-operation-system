# å¯¼èˆªä¼˜åŒ–ä¸åŠŸèƒ½å¢å¼º - æ‰§è¡Œå¿«ç…§

**åˆ›å»ºæ—¶é—´**: 2026-01-30
**çŠ¶æ€**: ğŸš€ å¼€å§‹å®æ–½ Phase 1-3
**å½“å‰Git Commit**: a3eaa37

---

## âœ… å·²ç¡®è®¤æ–¹æ¡ˆ

1. **å¯¼èˆªå±‚çº§**ï¼šåµŒå¥—è·¯ç”± - å•†æˆ·å¯¹æ¯”ç§»è‡³ `/health/compare`ï¼Œå·¦ä¾§èœå•6é¡¹
2. **é©¾é©¶èˆ±å®šä½**ï¼šå³ä¸Šè§’å·¥å…·æ ï¼ˆä¸é€šçŸ¥é“ƒå¹¶åˆ—ï¼‰
3. **å¯¹æ¯”åŠŸèƒ½**ï¼šå¤šå…¥å£ï¼ˆå¥åº·åº¦å¤šé€‰ + æ™ºèƒ½æ´å¯Ÿæ“ä½œæŒ‰é’® + é¢„è®¾æ–¹æ¡ˆï¼‰
4. **å•†æˆ·æ•°æ®**ï¼š6ç±»ä¸šæ€ï¼Œæ¯ç±»3å®¶ï¼Œå…±18å®¶

---

## ğŸ¯ å®æ–½è®¡åˆ’ï¼ˆç«‹å³æ‰§è¡Œï¼‰

### Phase 1ï¼šæ ¸å¿ƒç»“æ„é‡æ„ï¼ˆ2-3å°æ—¶ï¼‰âœ… ç«‹å³æ‰§è¡Œ

**1.1 å¯¼èˆªç»“æ„**
- [ ] ä¿®æ”¹ `components/layout/Sidebar.tsx` - åˆ é™¤é©¾é©¶èˆ±å’Œå¯¹æ¯”èœå•ï¼Œä¿ç•™6é¡¹
- [ ] åˆ›å»º `components/layout/TopBar.tsx` - é¡¶éƒ¨å·¥å…·æ ï¼Œæ·»åŠ é©¾é©¶èˆ±å…¥å£
- [ ] ä¿®æ”¹ `components/layout/MainLayout.tsx` - å¼•å…¥TopBarï¼Œå¸ƒå±€è°ƒæ•´

**1.2 å¥åº·åº¦Tabå¯¼èˆª**
- [ ] åˆ›å»º `app/health/layout.tsx` - Tabå¯¼èˆªï¼ˆå•†æˆ·åˆ—è¡¨/å•†æˆ·å¯¹æ¯”ï¼‰
- [ ] åˆ›å»º `app/health/compare/` ç›®å½•
- [ ] ç§»åŠ¨ `app/compare/page.tsx` â†’ `app/health/compare/page.tsx`
- [ ] åˆ é™¤ `app/compare/` ç›®å½•
- [ ] åˆ é™¤ `components/compare/` å¼•ç”¨è·¯å¾„æ›´æ–°

**1.3 å•†æˆ·æ•°æ®æ‰©å……**
- [ ] ä¿®æ”¹ `data/merchants/mock-data.ts` - æ·»åŠ 12å®¶æ–°å•†æˆ·ï¼ˆM007-M018ï¼‰
  - é¤é¥®-ç«é”…ï¼š+2å®¶ï¼ˆèœ€å¤§ä¾ ã€å°é¾™åï¼‰
  - é¤é¥®-é¥®å“ï¼š+2å®¶ï¼ˆç‘å¹¸ã€å–œèŒ¶ï¼‰
  - é¤é¥®-æ­£é¤ï¼š+2å®¶ï¼ˆå¤–å©†å®¶ã€è¥¿è´ï¼‰
  - é›¶å”®-æœé¥°ï¼š+2å®¶ï¼ˆZARAã€H&Mï¼‰
  - é›¶å”®-ç å®ï¼š+2å®¶ï¼ˆè€å‡¤ç¥¥ã€å‘¨ç”Ÿç”Ÿï¼‰
  - ä¸»åŠ›åº—-å½±åŸï¼š+2å®¶ï¼ˆCGVã€åšçº³ï¼‰

**1.4 æµ‹è¯•**
- [ ] `npm run build` - æ„å»ºæµ‹è¯•
- [ ] æµè§ˆå™¨æµ‹è¯•å¯¼èˆªå’Œè·¯ç”±

---

### Phase 2ï¼šå¤šå…¥å£å¿«é€Ÿå¯¹æ¯”ï¼ˆ2-3å°æ—¶ï¼‰âœ… ç«‹å³æ‰§è¡Œ

**2.1 å¥åº·åº¦å¤šé€‰æ¨¡å¼**
- [ ] ä¿®æ”¹ `app/health/page.tsx`
  - æ·»åŠ  `isCompareMode` çŠ¶æ€
  - æ·»åŠ  `selectedIds` çŠ¶æ€
  - å·¥å…·æ æ·»åŠ "å¯¹æ¯”å•†æˆ·"æŒ‰é’®
  - å•†æˆ·å¡ç‰‡æ·»åŠ å¤é€‰æ¡†
  - æ·»åŠ "å¼€å§‹å¯¹æ¯”"æŒ‰é’®ï¼ˆè·³è½¬ /health/compare?ids=...ï¼‰

**2.2 URLå‚æ•°æ”¯æŒ**
- [ ] ä¿®æ”¹ `app/health/compare/page.tsx`
  - è¯»å–URLå‚æ•° `?ids=M001,M002,M003`
  - æ ¹æ®IDè‡ªåŠ¨åŠ è½½å•†æˆ·
- [ ] ä¿®æ”¹ `components/compare/MerchantSelector.tsx`
  - æ”¯æŒ `initialIds` props
  - è‡ªåŠ¨é¢„é€‰å•†æˆ·

**2.3 é¢„è®¾å¯¹æ¯”æ–¹æ¡ˆ**
- [ ] åˆ›å»º `components/compare/QuickTemplates.tsx`
  - "åŒä¸šæ€TOP3"æ–¹æ¡ˆ
  - "é«˜é£é™©å•†æˆ·ç¾¤"æ–¹æ¡ˆ
  - "æœ¬æœˆæ˜æ˜Ÿå•†æˆ·"æ–¹æ¡ˆ
- [ ] é›†æˆåˆ°å¯¹æ¯”é¡µé¢

---

### Phase 3ï¼šæ™ºèƒ½æ´å¯Ÿå¢å¼ºï¼ˆ2-3å°æ—¶ï¼‰âœ… ç«‹å³æ‰§è¡Œ

**3.1 æ“ä½œæŒ‰é’®æ•°æ®**
- [ ] ä¿®æ”¹ `utils/merchantComparison.ts`
  - æ‰©å±• `ComparisonInsight` æ¥å£ï¼Œæ·»åŠ  `actions` å­—æ®µ
  - `generateInsights()` ç”Ÿæˆæ“ä½œå»ºè®®

**3.2 UIå¢å¼º**
- [ ] ä¿®æ”¹ `app/health/compare/page.tsx`
  - æ´å¯Ÿå¡ç‰‡æ·»åŠ æ“ä½œæŒ‰é’®
  - å®ç°è·³è½¬é€»è¾‘

**3.3 ç›®æ ‡é¡µé¢é¢„å¡«å……**
- [ ] ä¿®æ”¹ `app/tasks/page.tsx` - æ”¯æŒ `?merchantId=M001` å‚æ•°
- [ ] ä¿®æ”¹ `app/inspection/page.tsx` - æ”¯æŒ `?merchantId=M001` å‚æ•°

---

### Phase 4ï¼šæœªæ¥æ‰©å±•ï¼ˆå¯é€‰ï¼‰â¸ï¸ æš‚ç¼“

- å†å²è®°å½•ä¸æ”¶è—
- Excel/PDFå¯¼å‡º
- é©¾é©¶èˆ±å†…å®¹æ‰©å±•ï¼ˆå¤šé¡¹ç›®å¯¹æ¯”ã€è¶‹åŠ¿åˆ†æã€å›¢é˜Ÿç®¡ç†ï¼‰

---

## ğŸ“ å…³é”®æ–‡ä»¶æ¸…å•

### éœ€è¦ä¿®æ”¹ï¼ˆ6ä¸ªï¼‰
```
components/layout/Sidebar.tsx
components/layout/MainLayout.tsx
data/merchants/mock-data.ts
app/health/page.tsx
app/compare/page.tsx â†’ app/health/compare/page.tsx
components/compare/MerchantSelector.tsx
utils/merchantComparison.ts
```

### éœ€è¦åˆ›å»ºï¼ˆ4ä¸ªï¼‰
```
components/layout/TopBar.tsx
app/health/layout.tsx
app/health/compare/page.tsxï¼ˆç§»åŠ¨ï¼‰
components/compare/QuickTemplates.tsx
```

---

## ğŸ§ª æµ‹è¯•æ£€æŸ¥ç‚¹

### Phase 1 æµ‹è¯•
- [ ] å·¦ä¾§å¯¼èˆªåªæ˜¾ç¤º6é¡¹ï¼ˆæ— é©¾é©¶èˆ±ã€æ— å¯¹æ¯”ï¼‰
- [ ] å³ä¸Šè§’æ˜¾ç¤ºé©¾é©¶èˆ±å…¥å£æŒ‰é’®
- [ ] /health æ˜¾ç¤ºTabå¯¼èˆªï¼ˆå•†æˆ·åˆ—è¡¨/å•†æˆ·å¯¹æ¯”ï¼‰
- [ ] /health/compare é¡µé¢æ­£å¸¸è®¿é—®
- [ ] 18å®¶å•†æˆ·æ•°æ®æ˜¾ç¤ºæ­£ç¡®

### Phase 2 æµ‹è¯•
- [ ] å¥åº·åº¦é¡µé¢ç‚¹å‡»"å¯¹æ¯”å•†æˆ·"è¿›å…¥å¤šé€‰æ¨¡å¼
- [ ] å‹¾é€‰å•†æˆ·åè·³è½¬ /health/compare?ids=M001,M002
- [ ] å¯¹æ¯”é¡µé¢è‡ªåŠ¨åŠ è½½URLå‚æ•°ä¸­çš„å•†æˆ·
- [ ] é¢„è®¾æ–¹æ¡ˆæ­£å¸¸å·¥ä½œ

### Phase 3 æµ‹è¯•
- [ ] æ™ºèƒ½æ´å¯Ÿæ˜¾ç¤ºæ“ä½œæŒ‰é’®
- [ ] ç‚¹å‡»"åˆ›å»ºå¸®æ‰¶ä»»åŠ¡"è·³è½¬å¹¶é¢„å¡«å……
- [ ] ç‚¹å‡»"å®‰æ’å·¡åº—"è·³è½¬å¹¶é¢„é€‰å•†æˆ·

---

## ğŸ’¾ æ–°å¢å•†æˆ·æ•°æ®ï¼ˆ12å®¶ï¼‰

**M007** - èœ€å¤§ä¾ ç«é”…ï¼ˆä¸­é£é™©ï¼Œ65åˆ†ï¼‰
**M008** - å°é¾™åç«é”…ï¼ˆä½é£é™©ï¼Œ76åˆ†ï¼‰
**M009** - ç‘å¹¸å’–å•¡ï¼ˆä½é£é™©ï¼Œ79åˆ†ï¼‰
**M010** - å–œèŒ¶ï¼ˆæ— é£é™©ï¼Œ90åˆ†ï¼‰
**M011** - å¤–å©†å®¶ï¼ˆä¸­é£é™©ï¼Œ68åˆ†ï¼‰
**M012** - è¥¿è´èœé¢æ‘ï¼ˆä½é£é™©ï¼Œ77åˆ†ï¼‰
**M013** - ZARAï¼ˆä½é£é™©ï¼Œ81åˆ†ï¼‰
**M014** - H&Mï¼ˆæ— é£é™©ï¼Œ87åˆ†ï¼‰
**M015** - è€å‡¤ç¥¥ï¼ˆä½é£é™©ï¼Œ84åˆ†ï¼‰
**M016** - å‘¨ç”Ÿç”Ÿï¼ˆæ— é£é™©ï¼Œ93åˆ†ï¼‰
**M017** - CGVå½±åŸï¼ˆä½é£é™©ï¼Œ80åˆ†ï¼‰
**M018** - åšçº³å›½é™…å½±åŸï¼ˆä¸­é£é™©ï¼Œ67åˆ†ï¼‰

è¯¦ç»†æ•°æ®è§è®¡åˆ’æ–‡ä»¶ï¼š`/Users/heyuxuan/.claude/plans/stateful-squishing-salamander.md`

---

## ğŸ“Š Tokenç›‘æ§

**å½“å‰ä½¿ç”¨**: ~91,000 / 200,000ï¼ˆ45.5%ï¼‰
**å‰©ä½™**: ~109,000ï¼ˆ54.5%ï¼‰
**é¢„è®¡æ¶ˆè€—**: Phase 1-3 çº¦40,000-50,000 tokens
**æ˜¯å¦åˆ‡æ¢çª—å£**: å¯ä»¥ç»§ç»­ï¼Œå¦‚ä¸è¶³ä¼šæé†’

---

**æ‰§è¡Œå¼€å§‹æ—¶é—´**: 2026-01-30
**é¢„è®¡å®Œæˆ**: Phase 1-3 æ ¸å¿ƒåŠŸèƒ½ï¼ˆ6-9å°æ—¶å¼€å‘æ—¶é—´ï¼‰
**è¯¦ç»†æ–¹æ¡ˆ**: `/Users/heyuxuan/.claude/plans/stateful-squishing-salamander.md`
